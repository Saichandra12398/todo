<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <script
      src="https://unpkg.com/react@16/umd/react.development.js"
      crossorigin
    ></script>

    <script
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
      crossorigin
    ></script>

    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />

    <title>todo</title>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col"></div>
        <div class="col">
          <br /><br /><br />
          <div id="#app" style="background-color: dimgray"></div>
        </div>
        <div class="col"></div>
      </div>
    </div>
    <script type="text/babel">

      class Update extends React.Component{

        constructor(){
          super();
          this.state={newtask:"",newdate:"",newtime:"",li:[]};
        }

        componentDidMount() {



            var cnt = localStorage.getItem("count");
          const inlist = localStorage.getItem("list");



            // const dummmylist=list.split(",");
            const list=JSON.parse(inlist);
            // alert(typeof(list));
            list.map((ele,index)=>{


                
          const newli = localStorage.getItem("list");
          const lii=JSON.parse(newli);
          // alert(typeof(lii));
          lii.map((ele,index) => {alert(ele.task)});
          this.setState({li:[...lii]});
          // alert()

          window.addEventListener("beforeunload", () => {


            localStorage.setItem("list", JSON.stringify(this.state.li));
          });
        }

        render(){
          return(
            <div class="container">
              <div class="row">
                <div class="col">
                  <input
                          onChange={this.readName}
                          name="input"
                          type="text"
                          value={this.state.input}
                        />

                        <input
                          onChange={this.readfate}
                          name="input"
                          type="date"
                          value={this.state.deadline}
                        />

                        <br />
                        <input
                          onChange={this.readtime}
                          name="input"
                          type="time"
                          value={this.state.time}
                        />

                        <button
                          onClick={this.sub}

                          >
                          Submit
                          </button>

                  </div>
                  </div>
                  </div>
          );
        }

        readName = (event) => {
          this.setState({ newtask: event.target.value });
        };

        readtime = (event) => {
          this.setState({ newtime: event.target.value });
          // alert(typeof(this.state.time));
        };

        readfate = (event) => {
          this.setState({newdate:event.target.value});
          // alert(typeof(this.state.deadline));
        };


        sub = () => {
          // alert(typeof(this.state.li));
          // this.li.map((ele,index)=>{alert(index)});
          // var old=[...this.state.li];
          // // alert(typeof(old));
          // old.map((ele,index)=>{
          //   alert(typeof(index));
          //   alert(typeof(this.props.numb));
          //   if(index==this.props.numb){
          //     alert("hiii");
          //   }
          // });
        };
      }
      ReactDOM.render(<Update />, document.getElementById("#app"));
    </script>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
      crossorigin="anonymous"
    ></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
    -->
  </body>
</html>
